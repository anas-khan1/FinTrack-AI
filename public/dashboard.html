<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard — FinTrack AI</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='32' y2='32'%3E%3Cstop stop-color='%236366f1'/%3E%3Cstop offset='1' stop-color='%238b5cf6'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='32' height='32' rx='8' fill='url(%23g)'/%3E%3Crect x='6' y='18' width='5' height='8' rx='1.5' fill='rgba(255,255,255,0.5)'/%3E%3Crect x='13.5' y='13' width='5' height='13' rx='1.5' fill='rgba(255,255,255,0.7)'/%3E%3Crect x='21' y='7' width='5' height='19' rx='1.5' fill='white'/%3E%3C/svg%3E">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="bg-effects"><div class="bg-orb bg-orb-1"></div><div class="bg-orb bg-orb-2"></div></div>
    <div class="app-layout">
        <div id="sidebarContainer"></div>
        <main class="main-content">
            <div class="page-header">
                <div class="page-header-inner">
                    <div>
                        <button class="mobile-menu-btn" id="mobileMenuBtn"></button>
                        <h1 class="page-title">Overview</h1>
                        <p class="page-subtitle" id="greetingText">Welcome back</p>
                    </div>
                    <div class="page-header-actions">
                        <div id="monthPickerContainer"></div>
                    </div>
                </div>
            </div>

            <div class="page-body">
                <!-- Stats -->
                <div class="stats-grid" id="statsGrid">
                    <div class="stat-card">
                        <div class="stat-card-label"><div class="stat-card-icon green" id="iconIncome"></div> Total Income</div>
                        <div class="stat-card-value income" id="statIncome">₹0</div>
                        <div class="stat-card-change" id="statIncomeLabel">This month</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label"><div class="stat-card-icon red" id="iconExpense"></div> Total Expenses</div>
                        <div class="stat-card-value expense" id="statExpenses">₹0</div>
                        <div class="stat-card-change" id="statExpenseCount">0 transactions</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label"><div class="stat-card-icon blue" id="iconSavings"></div> Net Savings</div>
                        <div class="stat-card-value savings" id="statSavings">₹0</div>
                        <div class="stat-card-change" id="statSavingsRate">0% savings rate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-label"><div class="stat-card-icon purple" id="iconHealth"></div> Financial Health</div>
                        <div class="health-ring" id="healthRing">
                            <svg><circle class="ring-bg"/><circle class="ring-fill" id="ringFill"/></svg>
                            <div class="ring-label" id="healthScore">0</div>
                        </div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="charts-grid">
                    <div class="card">
                        <div class="card-header"><span class="card-title">Monthly Trend</span></div>
                        <div class="card-body"><div class="chart-container"><canvas id="trendChart"></canvas></div></div>
                    </div>
                    <div class="card">
                        <div class="card-header"><span class="card-title">Spending Breakdown</span></div>
                        <div class="card-body"><div class="chart-container"><canvas id="categoryChart"></canvas></div></div>
                    </div>
                </div>

                <!-- Recent Transactions -->
                <div class="card" style="margin-bottom:20px">
                    <div class="card-header">
                        <span class="card-title">Recent Transactions</span>
                        <a href="/expenses.html" class="btn btn-ghost btn-sm">View All</a>
                    </div>
                    <div class="card-body" style="padding:0">
                        <table class="data-table">
                            <thead><tr><th>Date</th><th>Category</th><th>Description</th><th style="text-align:right">Amount</th></tr></thead>
                            <tbody id="recentTbody"></tbody>
                        </table>
                        <div class="empty-state" id="recentEmpty" style="display:none">
                            <div class="empty-state-icon" id="emptyRecentIcon"></div>
                            <div class="empty-state-text">No recent transactions</div>
                        </div>
                    </div>
                </div>

                <!-- AI Recommendations -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">AI Recommendations</span>
                        <button class="btn btn-ghost btn-sm" id="refreshRecBtn"><span id="refreshIcon"></span> Refresh</button>
                    </div>
                    <div class="card-body">
                        <div class="rec-list" id="recList">
                            <div class="empty-state">
                                <div class="empty-state-icon" id="emptyRecIcon"></div>
                                <div class="empty-state-text">Add expenses and income to get AI recommendations</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="/js/icons.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/components.js"></script>
    <script src="/js/dashboard.js"></script>
</body>
</html>
